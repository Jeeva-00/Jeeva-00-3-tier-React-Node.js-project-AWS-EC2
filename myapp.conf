<VirtualHost *:80>
    ServerAdmin webmaster@localhost
    # No ServerName or ServerAlias, just IP access

    # -------------------
    # FRONTEND (Static Files)
    # -------------------
    DocumentRoot /var/www/html

    <Directory /var/www/html>
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>

    # -------------------
    # BACKEND API (Reverse Proxy to Node.js)
    # -------------------
    ProxyPreserveHost On
    ProxyPass /api http://localhost:5000/api
    ProxyPassReverse /api http://localhost:5000/api

    # -------------------
    # LOGGING
    # -------------------
    ErrorLog ${APACHE_LOG_DIR}/myapp_error.log
    CustomLog ${APACHE_LOG_DIR}/myapp_access.log combined
</VirtualHost>
